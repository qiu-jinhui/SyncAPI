<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Synchronize API - Swagger Documentation</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui.css" />
    <style>
        html {
            box-sizing: border-box;
            overflow: -moz-scrollbars-vertical;
            overflow-y: scroll;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }
        body {
            margin:0;
            background: #fafafa;
        }
        #swagger-ui {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        .swagger-ui .topbar {
            background-color: #1976d2;
        }
        .header-info {
            background: #1976d2;
            color: white;
            padding: 20px;
            text-align: center;
            margin-bottom: 0;
        }
        .header-info h1 {
            margin: 0;
            font-size: 2em;
        }
        .header-info p {
            margin: 10px 0 0 0;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="header-info">
        <h1>ğŸ”„ Synchronize API</h1>
        <p>åŒæ­¥APIç³»ç»Ÿï¼Œç”¨äºåŒæ­¥Model Gardençš„æ¨¡å‹ä¿¡æ¯åˆ°GatewayDB</p>
        <p><strong>ç‰ˆæœ¬:</strong> 1.0.0 | <strong>åè®®:</strong> OpenAPI 3.1.0</p>
    </div>
    
    <div id="swagger-ui"></div>

    <script src="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui-standalone-preset.js"></script>
    <script>
        // OpenAPI è§„èŒƒæ•°æ®
        const openApiSpec = {"openapi":"3.1.0","info":{"title":"Synchronize API","description":"åŒæ­¥APIç³»ç»Ÿï¼Œç”¨äºæ¥æ”¶Model Gardençš„CUDäº‹ä»¶","version":"1.0.0"},"paths":{"/api/v1/model-garden/events":{"post":{"tags":["events"],"summary":"æ¥æ”¶Model Gardençš„CUDäº‹ä»¶","description":"å¤„ç†æ¥è‡ªModel Gardençš„åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤äº‹ä»¶","operationId":"receive_event_api_v1_model_garden_events_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/model-garden/health":{"get":{"tags":["events"],"summary":"å¥åº·æ£€æŸ¥","description":"æ£€æŸ¥APIæœåŠ¡çŠ¶æ€","operationId":"health_check_api_v1_model_garden_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Health Check Api V1 Model Garden Health Get"}}}}}}},"/api/v1/model-garden/sync/all":{"post":{"tags":["sync"],"summary":"å…¨é‡åŒæ­¥Model Gardené…ç½®","description":"ä»Model GardenåŒæ­¥æ‰€æœ‰é…ç½®æ•°æ®åˆ°æœ¬åœ°æ•°æ®åº“","operationId":"sync_all_api_v1_model_garden_sync_all_post","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/SyncRequest"},{"type":"null"}],"title":"Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/model-garden/sync/status":{"get":{"tags":["sync"],"summary":"è·å–åŒæ­¥çŠ¶æ€","description":"è·å–æœ€è¿‘çš„åŒæ­¥ä»»åŠ¡çŠ¶æ€ä¿¡æ¯","operationId":"get_sync_status_api_v1_model_garden_sync_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Sync Status Api V1 Model Garden Sync Status Status Get"}}}}}}},"/":{"get":{"summary":"æ ¹è·¯å¾„","description":"æ ¹è·¯å¾„ï¼Œè¿”å›APIä¿¡æ¯","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"å¥åº·æ£€æŸ¥","description":"å¥åº·æ£€æŸ¥ç«¯ç‚¹","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"EventRequest":{"properties":{"event_id":{"type":"string","title":"Event Id","description":"äº‹ä»¶ID"},"event_type":{"type":"string","title":"Event Type","description":"äº‹ä»¶ç±»å‹"},"entity_type":{"type":"string","title":"Entity Type","description":"å®ä½“ç±»å‹"},"entity_id":{"type":"string","title":"Entity Id","description":"å®ä½“ID"},"timestamp":{"type":"string","title":"Timestamp","description":"äº‹ä»¶æ—¶é—´æˆ³"},"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version","description":"äº‹ä»¶ç‰ˆæœ¬"},"payload":{"additionalProperties":true,"type":"object","title":"Payload","description":"äº‹ä»¶è´Ÿè½½æ•°æ®"}},"type":"object","required":["event_id","event_type","entity_type","entity_id","timestamp","payload"],"title":"EventRequest","description":"äº‹ä»¶è¯·æ±‚æ¨¡å¼","example":{"entity_id":"proj-001","entity_type":"project","event_type":"CREATED","payload":{"created_time":"2025-07-15T14:00:00Z","id":"proj-001","project_code":"CREDIT_AI","project_name":"Credit AI","updated_time":"2025-07-15T14:00:00Z"},"timestamp":"2025-07-15T14:20:00Z","version":"1.0"}},"EventResponse":{"properties":{"status":{"type":"string","title":"Status","description":"å¤„ç†çŠ¶æ€"},"message":{"type":"string","title":"Message","description":"å“åº”æ¶ˆæ¯"}},"type":"object","required":["status","message"],"title":"EventResponse","description":"äº‹ä»¶å“åº”æ¨¡å¼","example":{"message":"Event processed successfully","status":"ok"}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ModelDeploymentPayload":{"properties":{"id":{"type":"string","title":"Id","description":"éƒ¨ç½²ID"},"model_id":{"type":"string","title":"Model Id","description":"æ¨¡å‹ID"},"deployment_name":{"type":"string","title":"Deployment Name","description":"éƒ¨ç½²åç§°"},"endpoint":{"type":"string","title":"Endpoint","description":"ç«¯ç‚¹URL"},"auth_secret_manager_path":{"type":"string","title":"Auth Secret Manager Path","description":"è®¤è¯å¯†é’¥ç®¡ç†å™¨è·¯å¾„"},"region":{"type":"string","title":"Region","description":"åŒºåŸŸ"},"request_per_min":{"type":"integer","title":"Request Per Min","description":"æ¯åˆ†é’Ÿè¯·æ±‚æ•°"},"token_per_min":{"type":"integer","title":"Token Per Min","description":"æ¯åˆ†é’Ÿä»¤ç‰Œæ•°"},"is_default":{"type":"boolean","title":"Is Default","description":"æ˜¯å¦é»˜è®¤"},"created_time":{"type":"string","format":"date-time","title":"Created Time","description":"åˆ›å»ºæ—¶é—´"},"updated_time":{"type":"string","format":"date-time","title":"Updated Time","description":"æ›´æ–°æ—¶é—´"}},"type":"object","required":["id","model_id","deployment_name","endpoint","auth_secret_manager_path","region","request_per_min","token_per_min","is_default","created_time","updated_time"],"title":"ModelDeploymentPayload","description":"æ¨¡å‹éƒ¨ç½²è´Ÿè½½æ•°æ®"},"ModelLimitPayload":{"properties":{"id":{"type":"string","title":"Id","description":"é™åˆ¶ID"},"subscription_id":{"type":"string","title":"Subscription Id","description":"è®¢é˜…ID"},"limit_type":{"type":"string","title":"Limit Type","description":"é™åˆ¶ç±»å‹"},"scope":{"type":"string","title":"Scope","description":"ä½œç”¨åŸŸ"},"limit_value":{"type":"integer","title":"Limit Value","description":"é™åˆ¶å€¼"},"created_time":{"type":"string","format":"date-time","title":"Created Time","description":"åˆ›å»ºæ—¶é—´"},"updated_time":{"type":"string","format":"date-time","title":"Updated Time","description":"æ›´æ–°æ—¶é—´"}},"type":"object","required":["id","subscription_id","limit_type","scope","limit_value","created_time","updated_time"],"title":"ModelLimitPayload","description":"æ¨¡å‹é™åˆ¶è´Ÿè½½æ•°æ®"},"ModelPayload":{"properties":{"id":{"type":"string","title":"Id","description":"æ¨¡å‹ID"},"model_name":{"type":"string","title":"Model Name","description":"æ¨¡å‹åç§°"},"model_type":{"type":"string","title":"Model Type","description":"æ¨¡å‹ç±»å‹"},"provider":{"type":"string","title":"Provider","description":"æä¾›å•†"},"model_input":{"type":"string","title":"Model Input","description":"æ¨¡å‹è¾“å…¥"},"model_output":{"type":"string","title":"Model Output","description":"æ¨¡å‹è¾“å‡º"},"max_content_length":{"type":"integer","title":"Max Content Length","description":"æœ€å¤§å†…å®¹é•¿åº¦"},"created_time":{"type":"string","format":"date-time","title":"Created Time","description":"åˆ›å»ºæ—¶é—´"},"updated_time":{"type":"string","format":"date-time","title":"Updated Time","description":"æ›´æ–°æ—¶é—´"}},"type":"object","required":["id","model_name","model_type","provider","model_input","model_output","max_content_length","created_time","updated_time"],"title":"ModelPayload","description":"æ¨¡å‹è´Ÿè½½æ•°æ®"},"ModelPricingPayload":{"properties":{"id":{"type":"string","title":"Id","description":"å®šä»·ID"},"model_id":{"type":"string","title":"Model Id","description":"æ¨¡å‹ID"},"input_token_price_cpm":{"type":"integer","title":"Input Token Price Cpm","description":"è¾“å…¥ä»¤ç‰Œä»·æ ¼ï¼ˆæ¯åƒä¸ªï¼‰"},"output_token_price_cpm":{"type":"integer","title":"Output Token Price Cpm","description":"è¾“å‡ºä»¤ç‰Œä»·æ ¼ï¼ˆæ¯åƒä¸ªï¼‰"},"currency":{"type":"string","title":"Currency","description":"è´§å¸ç±»å‹"},"created_time":{"type":"string","format":"date-time","title":"Created Time","description":"åˆ›å»ºæ—¶é—´"},"updated_time":{"type":"string","format":"date-time","title":"Updated Time","description":"æ›´æ–°æ—¶é—´"}},"type":"object","required":["id","model_id","input_token_price_cpm","output_token_price_cpm","currency","created_time","updated_time"],"title":"ModelPricingPayload","description":"æ¨¡å‹å®šä»·è´Ÿè½½æ•°æ®"},"ProjectPayload":{"properties":{"id":{"type":"string","title":"Id","description":"é¡¹ç›®ID"},"project_name":{"type":"string","title":"Project Name","description":"é¡¹ç›®åç§°"},"project_code":{"type":"string","title":"Project Code","description":"é¡¹ç›®ä»£ç "},"created_time":{"type":"string","format":"date-time","title":"Created Time","description":"åˆ›å»ºæ—¶é—´"},"updated_time":{"type":"string","format":"date-time","title":"Updated Time","description":"æ›´æ–°æ—¶é—´"}},"type":"object","required":["id","project_name","project_code","created_time","updated_time"],"title":"ProjectPayload","description":"é¡¹ç›®è´Ÿè½½æ•°æ®"},"SubscriptionPayload":{"properties":{"id":{"type":"string","title":"Id","description":"è®¢é˜…ID"},"project_id":{"type":"string","title":"Project Id","description":"é¡¹ç›®ID"},"use_case_id":{"type":"string","title":"Use Case Id","description":"ç”¨ä¾‹ID"},"model_id":{"type":"string","title":"Model Id","description":"æ¨¡å‹ID"},"alias":{"type":"string","title":"Alias","description":"åˆ«å"},"created_time":{"type":"string","format":"date-time","title":"Created Time","description":"åˆ›å»ºæ—¶é—´"},"updated_time":{"type":"string","format":"date-time","title":"Updated Time","description":"æ›´æ–°æ—¶é—´"}},"type":"object","required":["id","project_id","use_case_id","model_id","alias","created_time","updated_time"],"title":"SubscriptionPayload","description":"è®¢é˜…è´Ÿè½½æ•°æ®"},"SyncRequest":{"properties":{"updated_since":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated Since","description":"å¢é‡åŒæ­¥èµ·å§‹æ—¶é—´ï¼Œå¦‚æœä¸æä¾›åˆ™è¿›è¡Œå…¨é‡åŒæ­¥","example":"2025-07-01T00:00:00Z"}},"type":"object","title":"SyncRequest","description":"å…¨é‡åŒæ­¥è¯·æ±‚æ¨¡å¼","example":{"updated_since":"2025-07-01T00:00:00Z"}},"SyncResponse":{"properties":{"projects":{"items":{"$ref":"#/components/schemas/ProjectPayload"},"type":"array","title":"Projects","description":"é¡¹ç›®åˆ—è¡¨"},"use_cases":{"items":{"$ref":"#/components/schemas/UseCasePayload"},"type":"array","title":"Use Cases","description":"ç”¨ä¾‹åˆ—è¡¨"},"budgets":{"items":{"$ref":"#/components/schemas/UseCaseBudgetPayload"},"type":"array","title":"Budgets","description":"é¢„ç®—åˆ—è¡¨"},"models":{"items":{"$ref":"#/components/schemas/ModelPayload"},"type":"array","title":"Models","description":"æ¨¡å‹åˆ—è¡¨"},"model_deployments":{"items":{"$ref":"#/components/schemas/ModelDeploymentPayload"},"type":"array","title":"Model Deployments","description":"æ¨¡å‹éƒ¨ç½²åˆ—è¡¨"},"pricing":{"items":{"$ref":"#/components/schemas/ModelPricingPayload"},"type":"array","title":"Pricing","description":"æ¨¡å‹å®šä»·åˆ—è¡¨"},"use_case_llm_models":{"items":{"$ref":"#/components/schemas/SubscriptionPayload"},"type":"array","title":"Use Case Llm Models","description":"ç”¨ä¾‹LLMæ¨¡å‹è®¢é˜…åˆ—è¡¨"},"limits":{"items":{"$ref":"#/components/schemas/ModelLimitPayload"},"type":"array","title":"Limits","description":"æ¨¡å‹é™åˆ¶åˆ—è¡¨"}},"type":"object","title":"SyncResponse","description":"å…¨é‡åŒæ­¥å“åº”æ¨¡å¼\nåŒ…å«æ‰€æœ‰åŒæ­¥çš„å®ä½“æ•°æ®","example":{"projects":[{"created_time":"2025-01-01T00:00:00Z","id":"proj-001","project_code":"CREDIT_AI","project_name":"Credit AI","updated_time":"2025-07-10T10:00:00Z"}],"use_cases":[{"ad_group":"ad_fraud","created_time":"2025-01-05T00:00:00Z","id":"uc-001","is_active":true,"project_id":"proj-001","updated_time":"2025-07-10T12:00:00Z","use_case_name":"fraud_detection"}]}},"UseCaseBudgetPayload":{"properties":{"id":{"type":"string","title":"Id","description":"é¢„ç®—ID"},"use_case_id":{"type":"string","title":"Use Case Id","description":"ç”¨ä¾‹ID"},"budget_cents":{"type":"integer","title":"Budget Cents","description":"é¢„ç®—é‡‘é¢ï¼ˆåˆ†ï¼‰"},"currency":{"type":"string","title":"Currency","description":"è´§å¸ç±»å‹"},"created_time":{"type":"string","format":"date-time","title":"Created Time","description":"åˆ›å»ºæ—¶é—´"},"updated_time":{"type":"string","format":"date-time","title":"Updated Time","description":"æ›´æ–°æ—¶é—´"}},"type":"object","required":["id","use_case_id","budget_cents","currency","created_time","updated_time"],"title":"UseCaseBudgetPayload","description":"ç”¨ä¾‹é¢„ç®—è´Ÿè½½æ•°æ®"},"UseCasePayload":{"properties":{"id":{"type":"string","title":"Id","description":"ç”¨ä¾‹ID"},"project_id":{"type":"string","title":"Project Id","description":"é¡¹ç›®ID"},"use_case_name":{"type":"string","title":"Use Case Name","description":"ç”¨ä¾‹åç§°"},"ad_group":{"type":"string","title":"Ad Group","description":"ADç»„"},"is_active":{"type":"boolean","title":"Is Active","description":"æ˜¯å¦æ¿€æ´»"},"created_time":{"type":"string","format":"date-time","title":"Created Time","description":"åˆ›å»ºæ—¶é—´"},"updated_time":{"type":"string","format":"date-time","title":"Updated Time","description":"æ›´æ–°æ—¶é—´"}},"type":"object","required":["id","project_id","use_case_name","ad_group","is_active","created_time","updated_time"],"title":"UseCasePayload","description":"ç”¨ä¾‹è´Ÿè½½æ•°æ®"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}; 

        // åˆå§‹åŒ– Swagger UI
        window.onload = function() {
            const ui = SwaggerUIBundle({
                spec: openApiSpec,
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIStandalonePreset
                ],
                plugins: [
                    SwaggerUIBundle.plugins.DownloadUrl
                ],
                layout: "StandaloneLayout",
                docExpansion: "list",
                defaultModelsExpandDepth: 2,
                defaultModelExpandDepth: 2,
                showRequestHeaders: true,
                showResponseHeaders: true,
                tryItOutEnabled: true,
                filter: true,
                supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch'],
                tagsSorter: "alpha",
                operationsSorter: "alpha"
            });
        };
    </script>
</body>
</html> 